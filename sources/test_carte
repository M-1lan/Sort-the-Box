import pygame, sys, pytmx, pyscroll

from sources.objets import Objet

pygame.init()

class Game : 

    def __init__(self) -> None:
        #fenetre
        self.fenetre = pygame.display.set_mode((800, 600))
        pygame.display.set_caption("Petit Jardin")

        #charger la carte (tmx)
        tmx_data = pytmx.util_pygame.load_pygame('carte.tmx') 
        map_data = pyscroll.data.TiledMapData(tmx_data)
        map_layer = pyscroll.orthographic.BufferedRenderer(map_data, self.fenetre.get_size())

        #dessiner le groupe de claques 
        self.group = pyscroll.PyscrollGroup(map_layer=map_layer, default_layer = 1) 
        
    def run(self):
        #boucle du jeu
        run_menu = True
        while run_menu:

            self.group.draw(self.fenetre)
            pygame.display.flip() 

            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    run_menu = False
                    pygame.quit()
                    sys.exit()

if __name__ == '__main__':
    pygame.init()
    pygame.font.init()
    game = Game()
    game.run() 







